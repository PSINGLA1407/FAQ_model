
# Django Application

This repository contains a Django web application that serves as the foundation for web development with Django and REST APIs. This project is built with Docker for containerization and allows you to easily set up and deploy the app locally or on any server.

##Hosted at http://34.45.129.202:8000/api/faqs/ suing Docker and GCP

The faqs can be modified at the admin panel at # http://34.45.129.202:8000/admin
Username: superuser
Password: superuseradmin

Access to translated faqs at http://34.45.129.202:8000/api/faqs/?lang=hi and http://34.45.129.202:8000/api/faqs/?lang=bn

## Table of Contents
1. [Prerequisites](#prerequisites)
2. [Project Setup](#project-setup)
3. [Running Locally](#running-locally)
4. [Running with Docker](#running-with-docker)
5. [Django API](#django-api)
6. [Development](#development)
7. [Deployment](#deployment)
8. [License](#license)

---

## Prerequisites

Before setting up this project, ensure that the following software is installed on your system:

- **Python 3.9+**: Required for running the Django app.
- **Docker**: For containerizing the application.
- **Docker Compose** (optional): If you want to use Docker Compose for managing multiple containers.

---

## Project Setup

### 1. Clone the repository

Start by cloning the project repository to your local machine:

```bash
git clone https://github.com/yourusername/your_django_app.git
cd your_django_app
```

### 2. Install dependencies

It is recommended to use a virtual environment to manage the dependencies:

```bash
python3 -m venv venv
source venv/bin/activate   # On Windows use venv\Scripts\activate
pip install -r requirements.txt
```

If you don’t have `requirements.txt`, it can be generated by running:

```bash
pip freeze > requirements.txt
```

---

## Running Locally

To run the Django application locally, use the following steps:

1. **Database Setup**:
   First, set up your database (SQLite or PostgreSQL). If you choose PostgreSQL, you will need to modify the `settings.py` to match your database credentials.

2. **Migrate the Database**:
   Run migrations to set up the necessary database tables:

   ```bash
   python manage.py migrate
   ```

3. **Run the Development Server**:
   Start the Django development server:

   ```bash
   python manage.py runserver
   ```

   The app will be accessible at [http://127.0.0.1:8000/](http://127.0.0.1:8000/).

---

## Running with Docker

This project also supports running the app inside a Docker container. Follow these steps to run it using Docker:

### 1. **Build the Docker Image**

Build the Docker image from the Dockerfile:

```bash
docker build -t your_django_app .
```

### 2. **Run the Docker Container**

Run the container, exposing port `8000` (or any other port) to the outside world:

```bash
docker run -d -p 87:8000 your_django_app
```

This will map port `8000` inside the container to port `87` on your host machine.

### 3. **Access the App**

Once the container is running, you can access the Django application by visiting [http://localhost:87](http://localhost:87) or [http://<EXTERNAL_IP>:87](http://<EXTERNAL_IP>:87).

### 4. **Stopping the Docker Container**

To stop the container, you can use:

```bash
docker stop <container_id>
```

---

## Django API

This project can include Django REST Framework for building APIs. You can create and manage APIs by adding serializers, views, and URLs. Here’s an example of how you can define a basic API endpoint:

1. **Create a Serializer**:

   ```python
   from rest_framework import serializers
   from .models import YourModel

   class YourModelSerializer(serializers.ModelSerializer):
       class Meta:
           model = YourModel
           fields = '__all__'
   ```

2. **Create a View**:

   ```python
   from rest_framework import viewsets
   from .models import YourModel
   from .serializers import YourModelSerializer

   class YourModelViewSet(viewsets.ModelViewSet):
       queryset = YourModel.objects.all()
       serializer_class = YourModelSerializer
   ```

3. **Register the View in URLs**:

   ```python
   from django.urls import path, include
   from rest_framework.routers import DefaultRouter
   from .views import YourModelViewSet

   router = DefaultRouter()
   router.register(r'yourmodel', YourModelViewSet)

   urlpatterns = [
       path('api/', include(router.urls)),
   ]
   ```

---

## Development

### 1. **Running Tests**

You can run your tests with the Django test runner:

```bash
python manage.py test
```

If you're using Docker, ensure your Docker container is running before testing.

### 2. **Creating a Superuser**

If you want to access the Django admin interface, create a superuser:

```bash
python manage.py createsuperuser
```

Ensure you have added a `Procfile` to your project with the following content:

```
web: gunicorn your_django_app.wsgi:application
```

---

## **API Endpoints**

The FAQ management API allows you to manage and fetch FAQs in different languages. Below are the available endpoints for interacting with the system.

### **1. Fetch All FAQs**
#### `GET /api/faqs/`
This endpoint returns all the FAQs in the default language (English) by default.

**Response:**

```json
[
  {
    "id": 1,
    "translated_question": "What is Django?",
    "translated_answer": "Django is a web framework."
  },
  {
    "id": 2,
    "translated_question": "How to install Django?",
    "translated_answer": "You can install Django using pip."
  }
]
```

**Query Parameters:**
- `lang`: Optional query parameter to fetch FAQs in a specific language.
  - Example: `GET /api/faqs/?lang=hi` to get FAQs in Hindi.

---

### **2. Fetch FAQs in a Specific Language**
#### `GET /api/faqs/?lang=<language_code>`
This endpoint returns all FAQs in the specified language. If a translation is not available for a question or answer, it will fall back to the default language (English).

**Example Request:**

```bash
curl http://localhost:8000/api/faqs/?lang=hi
```

**Response:**

```json
[
  {
    "id": 1,
    "translated_question": "डjango क्या है?",
    "translated_answer": "Django एक वेब फ्रेमवर्क है।"
  },
  {
    "id": 2,
    "translated_question": "Django कैसे इंस्टॉल करें?",
    "translated_answer": "आप pip का उपयोग करके Django को इंस्टॉल कर सकते हैं।"
  }
]
```

**Supported Languages:**
- `en`: English (default)
- `hi`: Hindi
- `bn`: Bengali

---

### **3. Fetch a Single FAQ by ID**
#### `GET /api/faqs/{id}/`
This endpoint returns a single FAQ identified by the FAQ `id`.

**Example Request:**

```bash
curl http://localhost:8000/api/faqs/1/
```

**Response:**

```json
{
  "id": 1,
  "translated_question": "What is Django?",
  "translated_answer": "Django is a web framework."
}
```

**Query Parameters:**
- `lang`: Optional query parameter to fetch a single FAQ in a specific language.
  - Example: `GET /api/faqs/1/?lang=hi` to get the FAQ in Hindi.

---

### **4. Create a New FAQ**
#### `POST /api/faqs/`
This endpoint allows you to create a new FAQ with a question and an answer. Translations can also be provided in the request.

**Example Request:**

```bash
curl -X POST http://localhost:8000/api/faqs/ \
  -H "Content-Type: application/json" \
  -d '{
        "question": "What is Django?",
        "answer": "Django is a web framework.",
        "question_hi": "डjango क्या है?",
        "answer_hi": "Django एक वेब फ्रेमवर्क है।",
        "question_bn": "ডjango কী?",
        "answer_bn": "Django একটি ওয়েব ফ্রেমওয়ার্ক।"
      }'
```

**Response:**

```json
{
  "id": 3,
  "translated_question": "What is Django?",
  "translated_answer": "Django is a web framework."
}
```

---

### **5. Update an Existing FAQ**
#### `PUT /api/faqs/{id}/`
This endpoint allows you to update an existing FAQ, including its translations.

**Example Request:**

```bash
curl -X PUT http://localhost:8000/api/faqs/1/ \
  -H "Content-Type: application/json" \
  -d '{
        "question": "What is Django?",
        "answer": "Django is a high-level Python web framework.",
        "question_hi": "डjango क्या है?",
        "answer_hi": "Django एक उच्च-स्तरीय पायथन वेब फ्रेमवर्क है।",
        "question_bn": "ডjango কী?",
        "answer_bn": "Django একটি উচ্চ-স্তরের পাইথন ওয়েব ফ্রেমওয়ার্ক।"
      }'
```

**Response:**

```json
{
  "id": 1,
  "translated_question": "What is Django?",
  "translated_answer": "Django is a high-level Python web framework."
}
```

---

### **6. Delete an FAQ**
#### `DELETE /api/faqs/{id}/`
This endpoint allows you to delete an existing FAQ by its `id`.

**Example Request:**

```bash
curl -X DELETE http://localhost:8000/api/faqs/1/
```

**Response:**

```json
{
  "message": "FAQ with id 1 has been deleted."
}
```

---

### **Error Handling**

If an invalid request is made (e.g., invalid language or non-existent FAQ), the API will return appropriate error messages.

**Example Error Response for Non-existent FAQ:**

```json
{
  "detail": "Not found."
}
```

**Example Error Response for Invalid Language:**

```json
{
  "detail": "Invalid language code."
}
```

---


## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---
